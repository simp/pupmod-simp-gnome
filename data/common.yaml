---
lookup_options:
  '^gnome::(d|g)conf_hash$':
    merge:
      strategy: deep
      knockout_prefix: --
  gnome::packages:
    merge:
      strategy: deep
      knockout_prefix: --
  gnome::mate_packages:
    merge:
      strategy: deep
      knockout_prefix: --

gnome::configure: true

gnome::enable_gnome: true

gnome::packages:
  gnome-session: ~
  gnome-session-xsession: ~
  gnome-settings-daemon: ~
  gnome-terminal: ~
  gnome-user-docs: ~
  im-chooser: ~
  libgnome: ~
  libgnomeui: ~
  nautilus: ~
  orca: ~
  yelp: ~

gnome::enable_mate: false

gnome::mate_packages:
  caja-open-terminal: ~
  caja: ~
  gnome-terminal: ~
  marco: ~
  mate-desktop: ~
  mate-polkit: ~
  mate-power-manager: ~
  mate-screensaver: ~
  mate-session-manager: ~
  mate-settings-daemon: ~
  mate-themes: ~

gnome::dconf_profile_hierarchy:
  user:
    type: user
    order: 1
  simp:
    type: system
    order: 10
  simp_mate:
    type: system
    order: 10
  local:
    type: system
    order: 20
  site:
    type: system
    order: 30
  distro:
    type: system
    order: 40

gnome::dconf_hash:
  simp:
    # GNOME Settings
    org/gnome/desktop/media-handling:
      # Prevent mount points from being automatically created
      automount:
        value: false
      # Prevent automounted devices from opening automatically
      automount-open:
        value: false
      # Prevent automounted devices from executing automatically
      autorun-never:
        value: true
    org/gnome/settings-daemon/plugins/media-keys:
      # Ensures ctr-alt-del is not used for logout
      # Setting this to just quotes causes the key sequence to be ignored
      logout:
        value: "''"
    org/gnome/settings-daemon/plugins/power:
      # Ensure GNOME does not react to the physical machines power buttons
      active:
        value: false
    org/gnome/desktop/session:
      # Set the idle time to 15 minutes
      idle-delay:
        value: uint32 900
    org/gnome/desktop/screensaver:
      # Activate the idle timer
      idle-activation-enabled:
        value: true
      # Lock the screen when the screensaver activates
      lock-enabled:
        value: true
      # Ensure there is no delay in the screen lock:
      lock-delay:
        value: 0
  simp_mate:
    # MATE Settings
    org/mate/media-handling:
      # Prevent mount points from being automatically created
      automount:
        value: false
      # Prevent automounted devices from opening automatically
      automount-open:
        value: false
      # Prevent automounted devices from executing automatically
      autorun-never:
        value: true
    org/mate/SettingsDaemon/plugins/media-keys:
      # Ensures ctr-alt-del is not used for logout
      # Setting this to just quotes causes the key sequence to be ignored
      logout:
        value: "''"
    org/mate/power-manager:
      # Ensure MATE does not react to the physical machines power buttons
      button-power:
        value: "'nothing'"
    org/mate/session:
      # Set the idle time to 15 minutes
      idle-delay:
        value: uint32 900
    org/mate/screensaver:
      # Activate the idle timer
      idle-activation-enabled:
        value: true
      # Lock the screen when the screensaver activates
      lock-enabled:
        value: true
      # Ensure there is no delay in the screen lock:
      lock-delay:
        value: 0

gnome::gconf_hash:
  screensaver_enabled:
    # Enable the screensaver
    value: true
    type: bool
    schema: mandatory
  screensaver_timeout:
    # 15 minute screen lock
    value: 15
    type: int
  screensaver_lock:
    # Require password to open screensaver
    value: true
    type: bool
    schema: mandatory
